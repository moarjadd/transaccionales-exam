<div class="container">
  <h1>Calculadora de Salarios</h1>
  <form [formGroup]="employeeForm" (ngSubmit)="calculateSalary()">
    <mat-form-field appearance="fill">
      <mat-label>Nombre del Empleado</mat-label>
      <input matInput formControlName="name">
      <mat-error *ngIf="employeeForm.controls['name'].hasError('required')">
        El nombre es requerido.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Salario por Hora</mat-label>
      <input matInput type="number" formControlName="hourlyWage">
      <mat-error *ngIf="employeeForm.controls['hourlyWage'].hasError('required')">
        El salario por hora es requerido.
      </mat-error>
      <mat-error *ngIf="employeeForm.controls['hourlyWage'].hasError('min')">
        El salario por hora debe ser mayor que 0.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Horas Trabajadas</mat-label>
      <input matInput type="number" formControlName="hoursWorked">
      <mat-error *ngIf="employeeForm.controls['hoursWorked'].hasError('required')">
        Las horas trabajadas son requeridas.
      </mat-error>
      <mat-error *ngIf="employeeForm.controls['hoursWorked'].hasError('min')">
        Las horas trabajadas deben ser mayor o igual a 0.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Horas Extras Trabajadas</mat-label>
      <input matInput type="number" formControlName="overtimeHours">
      <mat-error *ngIf="employeeForm.controls['overtimeHours'].hasError('required')">
        Las horas extras trabajadas son requeridas.
      </mat-error>
      <mat-error *ngIf="employeeForm.controls['overtimeHours'].hasError('min')">
        Las horas extras trabajadas deben ser mayor o igual a 0.
      </mat-error>
    </mat-form-field>
    <mat-error *ngIf="employeeForm.errors?.['hoursInvalid']">
      Las horas trabajadas y las horas extras no pueden ser ambas cero.
    </mat-error>
    <button mat-raised-button color="primary" type="submit" [disabled]="employeeForm.invalid">
      Calcular Salario
    </button>
  </form>

  <div *ngIf="salaryResponse" class="results">
    <h2>Resultados del CÃ¡lculo del Salario</h2>
    <p><strong>Salario Regular:</strong> {{ salaryResponse.regularSalary | currency }}</p>
    <p><strong>Salario por Horas Extras:</strong> {{ salaryResponse.overtimeSalary | currency }}</p>
    <p><strong>Deducciones:</strong> {{ salaryResponse.deductions | currency }}</p>
    <p><strong>Salario Neto:</strong> {{ salaryResponse.netSalary | currency }}</p>
  </div>
</div>
